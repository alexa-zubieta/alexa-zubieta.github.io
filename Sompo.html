<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom HTML Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1, h2 {
            color: #0056b3;
            text-align: center;
            margin-bottom: 25px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        input[type="text"] {
            width: calc(100% - 22px); /* Ajuste para padding y borde */
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }
        /* Estilos para el nuevo div contenteditable */
        #textContentEditor {
            border: 1px solid #ccc;
            border-radius: 4px;
            min-height: 200px;
            padding: 10px;
            margin-bottom: 15px;
            font-size: 16px;
            line-height: 1.6;
            overflow-y: auto; /* Para scroll si el contenido es largo */
            background-color: #fff;
        }
        /* Reset de estilos para los elementos dentro del editor (ej: p, ul) */
        #textContentEditor p {
            margin: 0 0 1em 0; /* Espacio entre párrafos */
        }
        #textContentEditor ul,
        #textContentEditor ol {
            margin: 0 0 1em 25px;
            padding: 0;
        }
        #textContentEditor li {
            margin-bottom: 0.5em;
        }

        .editor-toolbar {
            margin-bottom: 10px;
            background-color: #e9ecef;
            padding: 8px;
            border-radius: 4px;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            border: 1px solid #dee2e6;
        }
        .editor-toolbar button {
            background-color: #6c757d;
            color: white;
            padding: 8px 12px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s ease;
        }
        .editor-toolbar button:hover {
            background-color: #5a6268;
        }
        .editor-toolbar select {
            padding: 8px;
            border-radius: 3px;
            border: 1px solid #ccc;
            font-size: 14px;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }

        .action-buttons button {
            background-color: #007bff;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        .action-buttons button:hover {
            background-color: #0056b3;
        }

        .output-section {
            margin-top: 30px;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        pre {
            background-color: #e9e9e9;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            border: 1px solid #ddd;
        }

        /* Estilos para el preview */
        #preview-output {
            margin-top: 20px;
            padding: 15px;
            border: 1px dashed #007bff;
            background-color: #f9f9f9;
            border-radius: 4px;
            min-height: 150px;
            font-size: 16px;
            line-height: 1.6;
        }
        #preview-output p {
            margin: 0 0 1em 0;
        }
        #preview-output ul,
        #preview-output ol {
            margin: 0 0 1em 25px;
            padding: 0;
        }
        #preview-output li {
            margin-bottom: 0.5em;
        }


        /* Contenedor responsivo para el HTML generado */
        .responsive-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px; /* Mantener padding aquí para el contenedor general */
            box-sizing: border-box;
        }

        /* Estilos para el diseño de columnas */
        .responsive-content {
            display: flex;
            flex-direction: row; /* Por defecto: texto izquierda, imagen derecha */
            align-items: center; /* <-- CAMBIO: AHORA CENTRADO VERTICALMENTE */
            gap: 20px;
            flex-wrap: wrap;
        }

        .responsive-content .text-column,
        .responsive-content .image-column {
            flex: 1;
            min-width: 280px;
        }

        .responsive-content .text-column {
            order: 1; /* Por defecto: texto primero */
        }

        .responsive-content .image-column {
            order: 2; /* Por defecto: imagen segundo */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px; /* Asegura un alto mínimo para centrar la imagen */
        }

        .responsive-content img {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: 4px;
        }

        /* Media query para dispositivos móviles */
        @media (max-width: 768px) {
            .responsive-content {
                flex-direction: column; /* En móvil: apilar verticalmente */
            }
            .responsive-content .text-column {
                order: 2; /* En móvil: texto segundo */
            }
            .responsive-content .image-column {
                order: 1; /* En móvil: imagen primero */
                min-height: unset; /* Restablece el min-height en móvil */
            }
            .responsive-content .text-column,
            .responsive-content .image-column {
                flex: unset;
                width: 100%;
            }
            .editor-toolbar {
                justify-content: center;
            }
        }
        /* Asegurar que los estilos de texto generados se vean correctamente */
        .responsive-content .text-column p {
            margin: 0 0 1em 0;
        }
        .responsive-content .text-column ul,
        .responsive-content .text-column ol {
            margin: 0 0 1em 25px;
            padding: 0;
        }
        .responsive-content .text-column li {
            margin-bottom: 0.5em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Custom HTML Generator</h1>
        <p>Enter the image URL and your text content. Use the editing tools to format the text.</p>

        <label for="imageUrl">Image URL:</label>
        <input type="text" id="imageUrl" placeholder="Ej: https://ejemplo.com/imagen.jpg"> <label for="textContentEditor">Text Content:</label>
        <div class="editor-toolbar">
            <button onclick="applyStyle('bold')"><b>B</b></button>
            <button onclick="applyStyle('italic')"><i>I</i></button>
            <button onclick="applyStyle('underline')"><u>U</u></button>
            <button onclick="applyList('unordered')">List</button>
            <button onclick="applyAlignment('left')">Left</button>
            <button onclick="applyAlignment('center')">Center</button>
            <button onclick="applyAlignment('right')">Right</button>
            <button onclick="applyAlignment('justify')">Justify</button>
            <select id="fontSizeSelect" onchange="applyFontSize()">
                <option value="">Size</option>
                <option value="18px">18px</option>
                <option value="20px">20px</option>
                <option value="22px">22px</option>
                <option value="24px">24px</option>
                <option value="26px">26px</option>
                <option value="28px">28px</option>
            </select>
        </div>
        <div id="textContentEditor" contenteditable="true">
        </div> <div class="action-buttons">
            <button onclick="generateHtml()">Generate HTML</button>
            <button onclick="copyHtml()" id="copyHtmlButton">Copy HTML</button>
        </div>

        <div class="output-section">
            <h2>HTML Code Generated:</h2>
            <pre id="generatedHtmlCode"></pre>

            <h2>Preview:</h2>
            <div id="preview-output">
                </div>
        </div>
    </div>

    <script>
        const textContentEditor = document.getElementById('textContentEditor');

        function applyStyle(command) {
            document.execCommand(command, false, null);
            textContentEditor.focus();
        }

        function applyList(type) {
            if (type === 'unordered') {
                document.execCommand('insertUnorderedList', false, null);
            } else if (type === 'ordered') {
                document.execCommand('insertOrderedList', false, null);
            }
            textContentEditor.focus();
        }

        function applyAlignment(alignment) {
            document.execCommand('justify' + alignment.charAt(0).toUpperCase() + alignment.slice(1), false, null);
            textContentEditor.focus();
        }

        function applyFontSize() {
            const fontSize = document.getElementById('fontSizeSelect').value;
            if (fontSize) {
                document.execCommand('removeFormat', false, 'font');
                document.execCommand('fontSize', false, 4);

                const selection = window.getSelection();
                if (selection.rangeCount > 0) {
                    const range = selection.getRangeAt(0);
                    let fontElement = range.commonAncestorContainer;

                    while (fontElement && fontElement.nodeName !== 'FONT' && fontElement !== textContentEditor) {
                        fontElement = fontElement.parentNode;
                    }

                    if (fontElement && fontElement.nodeName === 'FONT') {
                        fontElement.style.fontSize = fontSize;
                    } else {
                        const span = document.createElement('span');
                        span.style.fontSize = fontSize;
                        span.appendChild(range.extractContents());
                        range.insertNode(span);
                        selection.removeAllRanges();
                        selection.addRange(range);
                    }
                }
            }
            textContentEditor.focus();
        }

        function generateHtml() {
            const imageUrl = document.getElementById('imageUrl').value;
            const textContent = textContentEditor.innerHTML;

            if (!imageUrl || !textContent.trim()) {
                alert('Please insert an image URL and text content to continue.');
                return;
            }

            const generatedHtml = `
<div class="responsive-container">
    <div class="responsive-content">
        <div class="text-column">
            ${textContent}
        </div>
        <div class="image-column">
            <img src="${imageUrl}" alt="Imagen descriptiva" style="max-width: 100%; height: auto; display: block; border-radius: 4px;">
        </div>
    </div>
</div>

<style>
    /* Estilos base para el contenedor principal */
    .responsive-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        box-sizing: border-box;
    }

    /* Estilos para el diseño de columnas */
    .responsive-content {
        display: flex;
        flex-direction: row; /* Por defecto: texto izquierda, imagen derecha */
        align-items: center; /* <-- CAMBIO: AHORA CENTRADO VERTICALMENTE */
        gap: 20px;
        flex-wrap: wrap;
    }

    .responsive-content .text-column,
    .responsive-content .image-column {
        flex: 1;
        min-width: 280px;
    }

    /* Uso de 'order' para controlar la posición de las columnas */
    .responsive-content .text-column {
        order: 1; /* En escritorio, el texto va primero (izquierda) */
    }
    .responsive-content .image-column {
        order: 2; /* En escritorio, la imagen va segunda (derecha) */
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 200px; /* Asegura un alto mínimo para centrar la imagen */
    }

    .responsive-content img {
        max-width: 100%;
        height: auto;
        display: block;
        border-radius: 4px;
    }

    /* Media query para dispositivos móviles */
    @media (max-width: 768px) {
        .responsive-content {
            flex-direction: column; /* En móvil: apilar verticalmente */
        }
        .responsive-content .text-column {
            order: 2; /* En móvil: el texto va segundo (abajo) */
        }
        .responsive-content .image-column {
            order: 1; /* En móvil: la imagen va primero (arriba) */
            min-height: unset; /* Restablece el min-height en móvil */
        }
        .responsive-content .text-column,
        .responsive-content .image-column {
            flex: unset;
            width: 100%;
        }
    }
    /* Asegurar que los estilos de texto generados se vean correctamente */
    .responsive-content .text-column p {
        margin: 0 0 1em 0;
    }
    .responsive-content .text-column ul,
    .responsive-content .text-column ol {
        margin: 0 0 1em 25px;
        padding: 0;
    }
    .responsive-content .text-column li {
        margin-bottom: 0.5em;
    }
</style>
            `.trim();

            document.getElementById('generatedHtmlCode').textContent = generatedHtml;
            document.getElementById('preview-output').innerHTML = generatedHtml;
        }

        function copyHtml() {
            const htmlCode = document.getElementById('generatedHtmlCode').textContent;
            navigator.clipboard.writeText(htmlCode).then(() => {
                const copyButton = document.getElementById('copyHtmlButton');
                copyButton.textContent = '¡Copied!';
                setTimeout(() => {
                    copyButton.textContent = 'Copy HTML';
                }, 2000);
            }).catch(err => {
                alert('Error copying the HTML. Copy manually: ' + err);
            });
        }
    </script>
</body>
</html>